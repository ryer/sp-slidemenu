!function(a,b,c){"use strict";function d(a){return this instanceof d?this.init(a):new d(a)}function e(a){return g(a,function(a){return x.style[a]!==c})}function f(a){return a.charAt(0).toUpperCase()+a.substr(1)}function g(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(b(a[c],c))return!0;return!1}function h(a,b,d){var e=a.style;return h.cache||(h.cache={}),h.cache[b]!==c?void(e[h.cache[b]]=d):e[b]!==c?(h.cache[b]=b,void(e[b]=d)):void g(y,function(a){var g=f(a)+f(b);return e[g]!==c?(e[g]=d,!0):void 0})}function i(a,b){var c;for(c in b)b.hasOwnProperty(c)&&h(a,c,b[c])}function j(a,b){var d;return a[b]!==c?a[b]:(g(y,function(e){var g=f(e)+f(b);return a[g]!==c?(d=a[g],!0):void 0}),d)}function k(a){var b;return k.cache||(k.cache={}),k.cache[a]!==c?k.cache[a]:x.style[a]!==c?(k.cache[a]=a,a):(g(y,function(d){var e=f(d)+f(a);return x.style[e]!==c?(b="-"+d+"-"+a,!0):void 0}),k.cache[a]=b,b)}function l(a,b){var c,d,e;return c=Function.prototype.bind,d=Array.prototype.slice,a.bind===c&&c?c.apply(a,d.call(arguments,1)):(e=d.call(arguments,2),function(){return a.apply(b,e.concat(d.call(arguments)))})}function m(a){a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function n(a){var b,c,d,e;b={},d={position:"absolute",visibility:"hidden",display:"block"};for(c in d)b[c]=a.style[c],a.style[c]=d[c];e={width:a.offsetWidth,height:a.offsetHeight};for(c in d)a.style[c]=b[c];return e}function o(a,b){return a.changedTouches?a.changedTouches[0][b]:a[b]}function p(a,b,c,d){d=d||!1,z.touch?b.addEventListener(B[a].touch,c,d):z.addEventListener?b.addEventListener(B[a].mouse,c,d):z.attachEvent&&b.attachEvent("on"+B[a].mouse,c)}function q(a,b,c,d){d=d||!1,z.touch?b.removeEventListener(B[a].touch,c,d):z.addEventListener?b.removeEventListener(B[a].mouse,c,d):z.attachEvent&&b.detachEvent("on"+B[a].mouse,c)}function r(a,b){return b=" "+b+" ",1===a.nodeType&&(" "+a.className+" ").replace(G," ").indexOf(b)>=0?!0:!1}function s(a,b,c,d){var e,f,g,h,i;return e=+new Date,f=parseInt(a.style[b],10),c=parseInt(c,10),g=parseInt(d,10),h=function(a,b){return-(a/=b)*(a-2)},i=setInterval(function(){var d,j,k;d=new Date-e,d>g?(clearInterval(i),k=c):(j=h(d,g),k=j*(c-f)+f),a.style[b]=k+"px"},10)}function t(){return a.innerHeight?a.innerHeight:b.documentElement&&0!==b.documentElement.clientHeight?b.documentElement.clientHeight:b.body?b.body.clientHeight:0}function u(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}}function v(a){var b=navigator.userAgent;return b.indexOf("Android")>-1&&parseFloat(b.slice(b.indexOf("Android")+8))<=a}function w(b){return"fixed"===a.getComputedStyle(b,"").position}var x,y,z,A,B,C,D,E,F,G,H,I;x=b.createElement("div"),y=["webkit","moz","o","ms"],z=d.support={},z.transform3d=e(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),z.transform=e(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),z.transition=e(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),z.addEventListener="addEventListener"in a,z.attachEvent="attachEvent"in a,z.msPointer=a.navigator.msPointerEnabled,z.cssAnimation=(z.transform3d||z.transform)&&z.transition,z.touch="ontouchend"in a,B={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}},I={main:"#main",button:".menu-button",slidemenu:".slidemenu",slidemenu_header:".slidemenu-header",slidemenu_body:".slidemenu-body",slidemenu_content:".slidemenu-content",disableCssAnimation:!1,disable3d:!1,direction:"left"},A=!1,z.addEventListener&&(b.addEventListener("gesturestart",function(){A=!0}),b.addEventListener("gestureend",function(){A=!1})),C={slider:200,scrollOverBack:400},D={close:0,open:1,progress:2},E=10,F=50,G=/[\t\r\n\f]/g,H="menu-item",d.prototype.init=function(b){var d=this;for(var e in I)b.hasOwnProperty(e)||(b[e]=I[e]);if(d.setElement({main:b.main,slidemenu:b.slidemenu,button:b.button,slidemenu_body:b.slidemenu_body,slidemenu_content:b.slidemenu_content,slidemenu_header:b.slidemenu_header}),!(d.main&&d.slidemenu&&d.button&&d.slidemenuBody&&d.slidemenuContent))throw new Error("Element not found. Please set correctly.");d.disableCssAnimation=b.disableCssAnimation===c?!1:b.disableCssAnimation,d.disable3d=v(2.3)?!0:b.disable3d===c?!1:b.disable3d,d.direction="left","right"===b.direction&&(d.direction="right"),d.useCssAnimation=z.cssAnimation,d.disableCssAnimation===!0&&(d.useCssAnimation=!1),d.use3d=z.transform3d,d.disable3d===!0&&(d.use3d=!1),d.slideWidth=n(d.slidemenu).width;for(var f=d.main.length;f--;)d.main[f].SpSlidemenuStatus=D.close;return d.htmlOverflowX="",d.bodyOverflowX="",d.scrollCurrentY=0,d.scrollAnimationTimer=!1,d.scrollOverTimer=!1,d.setDefaultStyle(),d.bindMethods(),p("start",d.button,d.buttonTouchStart,!1),p("move",d.button,m,!1),p("end",d.button,d.buttonTouchEnd,!1),p("start",d.slidemenuContent,d.scrollTouchStart,!1),p("move",d.slidemenuContent,d.scrollTouchMove,!1),p("end",d.slidemenuContent,d.scrollTouchEnd,!1),z.addEventListener?(d.slidemenuContent.addEventListener("click",d.itemClick,!1),a.addEventListener("resize",u(d.setHeight,100),!1)):z.attachEvent&&(d.slidemenuContent.attachEvent("onclick",d.itemClick),a.attachEvent("onresize",u(d.setHeight,100))),d},d.prototype.bindMethods=function(){var a,b;a=this,b=["setHeight","slideOpen","slideOpenEnd","slideClose","slideCloseEnd","buttonTouchStart","buttonTouchEnd","mainTouchStart","scrollTouchStart","scrollTouchMove","scrollTouchEnd","scrollInertiaMove","scrollOverBack","scrollOver","itemClick"],b.forEach(function(b){a[b]=l(a[b],a)})},d.prototype.setElement=function(a){var c,d;c=this,d=a.main.split(",");for(var e in a)if("string"!=typeof a[e])return!1;c.main=b.querySelectorAll(a.main),c._mainBody=b.querySelector(d[0]),c.slidemenu=b.querySelector(a.slidemenu),c.button=b.querySelector(a.button),c.slidemenuBody=c.slidemenu.querySelector(a.slidemenu_body),c.slidemenuContent=c.slidemenu.querySelector(a.slidemenu_content),c.slidemenuHeader=c.slidemenu.querySelector(a.slidemenu_header)},d.prototype.setDefaultStyle=function(){var a=this;if(z.msPointer&&(a.slidemenuContent.style.msTouchAction="none"),a.setHeight(),a.useCssAnimation){for(var b=a.main.length;b--;)v(2.3)&&w(a.main[b])?i(a.main[b],{left:"0px"}):i(a.main[b],{transitionProperty:k("transform"),transitionTimingFunction:"ease-in-out",transitionDuration:C.slider+"ms",transitionDelay:"0ms",transform:""});i(a.slidemenu,{transitionProperty:"visibility",transitionTimingFunction:"linear",transitionDuration:"0ms",transitionDelay:C.slider+"ms",transform:"translateZ(0)"}),i(a.slidemenuContent,{transitionProperty:k("transform"),transitionTimingFunction:"ease-in-out",transitionDuration:"0ms",transitionDelay:"0ms",transform:a.getTranslateY(0)})}else{for(var b=a.main.length;b--;)i(a.main[b],{left:"0px"});i(a.slidemenuContent,{top:"0px"})}},d.prototype.setHeight=function(a){var b,c;b=this,c=t(),i(b._mainBody,{minHeight:c+"px"}),i(b.slidemenu,{height:c+"px"})},d.prototype.buttonTouchStart=function(a){var b=this;a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;for(var c=b.main.length;c--;)switch(b.main[c].SpSlidemenuStatus){case D.progress:break;case D.open:case D.close:b.buttonStartPageX=o(a,"pageX"),b.buttonStartPageY=o(a,"pageY")}},d.prototype.buttonTouchEnd=function(a){var b=this;a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,b.setHeight(),b.shouldTrigerNext(a)&&setTimeout(function(){for(var c=b.main.length;c--;)switch(b.main[c].SpSlidemenuStatus){case D.progress:break;case D.open:b.slideClose(a);break;case D.close:b.slideOpen(a)}},100)},d.prototype.mainTouchStart=function(a){var b=this;a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,b.slideClose(a)},d.prototype.shouldTrigerNext=function(a){var b=this,c=o(a,"pageX"),d=o(a,"pageY"),e=Math.abs(c-b.buttonStartPageX),f=Math.abs(d-b.buttonStartPageY);return 20>e&&20>f},d.prototype.slideOpen=function(a){var c,d=this;c="left"===d.direction?d.slideWidth:-d.slideWidth;for(var e=d.main.length;e--;)d.main[e].SpSlidemenuStatus=D.progress;if(p("move",b,m,!1),d.htmlOverflowX=b.documentElement.style.overflowX,d.bodyOverflowX=b.body.style.overflowX,b.documentElement.style.overflowX=b.body.style.overflowX="hidden",d.useCssAnimation){for(var e=d.main.length;e--;)v(2.3)&&w(d.main[e])?(d.main[e].style.left="",d.main[e].style.right="",s(d.main[e],d.direction,Math.abs(c),C.slider)):i(d.main[e],{transform:d.getTranslateX(c)});i(d.slidemenu,{transitionProperty:"z-index",visibility:"visible",zIndex:"1"})}else{for(var e=d.main.length;e--;)d.main[e].style.left="",d.main[e].style.right="",s(d.main[e],d.direction,Math.abs(c),C.slider);i(d.slidemenu,{visibility:"visible"})}setTimeout(d.slideOpenEnd,C.slider+F)},d.prototype.slideOpenEnd=function(){for(var a=this,b=a.main.length;b--;)a.main[b].SpSlidemenuStatus=D.open;a.useCssAnimation||i(a.slidemenu,{zIndex:"1"});for(var b=a.main.length;b--;)p("start",a.main[b],a.mainTouchStart,!1)},d.prototype.slideClose=function(a){for(var b=this,c=b.main.length;c--;)b.main[c].SpSlidemenuStatus=D.progress;for(var c=b.main.length;c--;)q("start",b.main[c],b.mainTouchStart,!1);if(b.useCssAnimation)i(b.slidemenu,{transitionProperty:"visibility",visibility:"hidden",zIndex:"-1"}),setTimeout(function(){for(var a=b.main.length;a--;)v(2.3)&&w(b.main[a])?s(b.main[a],b.direction,0,C.slider):i(b.main[a],{transform:b.getTranslateX(0)})},50);else{for(var c=b.main.length;c--;)s(b.main[c],b.direction,0,C.slider);i(b.slidemenu,{zIndex:"-1"})}setTimeout(b.slideCloseEnd,C.slider+F)},d.prototype.slideCloseEnd=function(){for(var a=this,c=a.main.length;c--;)a.main[c].SpSlidemenuStatus=D.close,i(a.main[c],{transform:""});b.documentElement.style.overflowX=a.htmlOverflowX,b.body.style.overflowX=a.bodyOverflowX,a.useCssAnimation||i(a.slidemenu,{visibility:"hidden"}),q("move",b,m,!1)},d.prototype.scrollTouchStart=function(a){var b=this;A||(b.scrollOverTimer!==!1&&clearTimeout(b.scrollOverTimer),b.scrollCurrentY=b.getScrollCurrentY(),b.useCssAnimation?i(b.slidemenuContent,{transitionTimingFunction:"ease-in-out",transitionDuration:"0ms",transform:b.getTranslateY(b.scrollCurrentY)}):(b.stopScrollAnimate(),i(b.slidemenuContent,{top:b.scrollCurrentY+"px"})),b.scrollOverTimer=!1,b.scrollAnimationTimer=!1,b.scrollTouchStarted=!0,b.scrollMoveReady=!1,b.scrollMoveEventCnt=0,b.scrollMaxY=b.calcMaxY(),b.scrollStartPageX=o(a,"pageX"),b.scrollStartPageY=o(a,"pageY"),b.scrollBasePageY=b.scrollStartPageY,b.scrollTimeForVelocity=a.timeStamp,b.scrollPageYForVelocity=b.scrollStartPageY,z.addEventListener?b.slidemenuContent.removeEventListener("click",m,!0):z.attachEvent&&b.slidemenuContent.detachEvent("onclick",m))},d.prototype.scrollTouchMove=function(a){var b,c,d,e,f,g,h;b=this,b.scrollTouchStarted&&!A&&(c=o(a,"pageX"),d=o(a,"pageY"),b.scrollMoveReady?(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,e=d-b.scrollBasePageY,f=b.scrollCurrentY+e,(f>0||f<b.scrollMaxY)&&(f=Math.round(b.scrollCurrentY+e/3)),b.scrollSetY(f),b.scrollMoveEventCnt%E===0&&(b.scrollPageYForVelocity=d,b.scrollTimeForVelocity=a.timeStamp),b.scrollMoveEventCnt++):(g=Math.abs(c-b.scrollStartPageX),h=Math.abs(d-b.scrollStartPageY),(g>5||h>5)&&(b.scrollMoveReady=!0,z.addEventListener?b.slidemenuContent.addEventListener("click",m,!0):z.attachEvent&&b.slidemenuContent.attachEvent("onclick",m))),b.scrollBasePageY=d)},d.prototype.scrollTouchEnd=function(a){var b,c,d,e;if(b=this,b.scrollTouchStarted){if(b.scrollTouchStarted=!1,b.scrollMaxY=b.calcMaxY(),b.scrollCurrentY>0||b.scrollCurrentY<b.scrollMaxY)return void b.scrollOverBack();d=o(a,"pageY")-b.scrollPageYForVelocity,e=a.timeStamp-b.scrollTimeForVelocity,c=d/e,Math.abs(c)>=.01&&b.scrollInertia(c)}},d.prototype.scrollInertia=function(a){var b,c,d,e,f,g,h,i,j;b=this,a>0?(c=!0,d=0):(c=!1,d=b.scrollMaxY),e=Math.abs(b.scrollCurrentY-d),a=Math.abs(750*a),a>1e3&&(a=1e3),f=a/500,g=a*f-500*Math.pow(f,2)/2,e>=g?(h=c?b.scrollCurrentY+g:b.scrollCurrentY-g,i=1e3*f,b.scrollInertiaMove(h,i,!1)):(h=d,j=Math.sqrt(1e3*e+Math.pow(a,2)),i=(j-a)/500*1e3,b.scrollInertiaMove(h,i,!0,j,c))},d.prototype.scrollInertiaMove=function(a,b,c,d,e){var f,g,h=this;h.scrollCurrentY=a,h.useCssAnimation?i(h.slidemenuContent,{transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1)",transitionDuration:b+"ms",transform:h.getTranslateY(a)}):h.scrollAnimate(a,b),c&&(f=d/7500,g=d*f-7500*Math.pow(f,2)/2,a=e?h.scrollCurrentY+g:h.scrollCurrentY-g,b=1e3*f,h.scrollOver(a,b))},d.prototype.scrollOver=function(a,b){var c;c=this,c.scrollCurrentY=a,c.useCssAnimation?i(c.slidemenuContent,{transitionTimingFunction:"cubic-bezier(0.33, 0.66, 0.66, 1)",transitionDuration:b+"ms",transform:c.getTranslateY(a)}):c.scrollAnimate(a,b),c.scrollOverTimer=setTimeout(c.scrollOverBack,b)},d.prototype.scrollOverBack=function(){var a,b;a=this,b=a.scrollCurrentY>=0?0:a.scrollMaxY,a.scrollCurrentY=b,a.useCssAnimation?i(a.slidemenuContent,{transitionTimingFunction:"ease-out",transitionDuration:C.scrollOverBack+"ms",transform:a.getTranslateY(b)}):a.scrollAnimate(b,C.scrollOverBack)},d.prototype.scrollSetY=function(a){var b=this;b.scrollCurrentY=a,b.useCssAnimation?i(b.slidemenuContent,{transitionTimingFunction:"ease-in-out",transitionDuration:"0ms",transform:b.getTranslateY(a)}):b.slidemenuContent.style.top=a+"px"},d.prototype.scrollAnimate=function(a,b){var c=this;c.stopScrollAnimate(),c.scrollAnimationTimer=s(c.slidemenuContent,"top",a,b)},d.prototype.stopScrollAnimate=function(){var a=this;a.scrollAnimationTimer!==!1&&clearInterval(a.scrollAnimationTimer)},d.prototype.itemClick=function(a){var b=a.target||a.srcElement;r(b,H)&&this.slideClose()},d.prototype.calcMaxY=function(a){var b,c,d,e;return b=this,c=b.slidemenuContent.offsetHeight,d=b.slidemenuBody.offsetHeight,e=0,b.slidemenuHeader&&(e=b.slidemenuHeader.offsetHeight),c>d?-(c-d+e):0},d.prototype.getScrollCurrentY=function(){var b=0;if(this.useCssAnimation)j(a.getComputedStyle(this.slidemenuContent,""),"transform").split(",").forEach(function(a){var c=parseInt(a,10);isNaN(c)||0===c||1===c||(b=c)});else{var c=parseInt(j(a.getComputedStyle(this.slidemenuContent,""),"top"),10);isNaN(c)||0===c||1===c||(b=c)}return b},d.prototype.getTranslateX=function(a){var b=this;return b.use3d?"translate3d("+a+"px, 0px, 0px)":"translate("+a+"px, 0px)"},d.prototype.getTranslateY=function(a){var b=this;return b.use3d?"translate3d(0px, "+a+"px, 0px)":"translate(0px, "+a+"px)"},a.SpSlidemenu=d}(window,window.document);